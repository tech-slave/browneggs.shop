<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page Not Found</title>
    <script>
        // Store the pathname and search parameters
        const pathname = window.location.pathname;
        const search = window.location.search;
        
        // Define valid routes
        const validRoutes = ['/', '/about', '/contact', '/privacy'];
        
        // Clean up the path
        const cleanPath = pathname.replace(/\/+$/, ''); // Remove trailing slashes
        
        // Prevent redirect loops
        if (sessionStorage.getItem('redirected')) {
            sessionStorage.removeItem('redirected');
            document.body.innerHTML = '<h1>Page Not Found</h1><a href="https://browneggs.shop">Go to Home</a>';
        } else {
            sessionStorage.setItem('redirected', 'true');
            
            // Handle routing
            if (validRoutes.includes(cleanPath)) {
                window.location.href = `https://browneggs.shop${cleanPath}${search}`;
            } else {
                window.location.href = 'https://browneggs.shop/';
            }
        }
    </script>
</head>
<body>
    <h1>Redirecting...</h1>
</body>
</html>